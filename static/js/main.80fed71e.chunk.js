(this["webpackJsonptraefik-builder"]=this["webpackJsonptraefik-builder"]||[]).push([[0],{72:function(e,t,a){e.exports=a(85)},77:function(e,t,a){},78:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),i=(a(77),a(17)),l=a(39),s=a(21),u=a(18),p=a(23),h=(a(78),a(125)),m=a(116),f=a(48),d=a(123),v=a(126),E=a(127),b=a(109),g=a(113),y=a(128),R=a(131),w=a(61),O=a.n(w),C=a(30),j=a(59),k=a.n(j),P=a(47),S=a.n(P),T=a(58),H=a.n(T);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){var r=n.target.value;t.forEach((function(e){"function"===typeof e&&(r=e(r))})),a.setState(x({},a.state,Object(C.a)({},e,r)))}},a.onRowClicked=function(e){return function(){"function"===typeof a.props.onRowClicked&&a.props.onRowClicked(e)}},a.render=function(){return r.a.createElement(b.a,{hover:!0,key:a.props.index,onClick:a.onRowClicked(a.props.index)},r.a.createElement(g.a,{component:"th",scope:"row"},a.props.route.name),r.a.createElement(g.a,{align:"left"},a.props.route.host),r.a.createElement(g.a,{align:"left"},a.props.route.port),r.a.createElement(g.a,{align:"left"},a.props.route.certificateResolver&&r.a.createElement("div",null,a.props.route.autoRedirectHttpToHttps&&r.a.createElement(S.a,null),a.props.route.autoRedirectHttpToHttps&&r.a.createElement(H.a,null),r.a.createElement(k.a,null)),!a.props.route.certificateResolver&&r.a.createElement(S.a,null)))},a.state={routeName:""},a}return Object(p.a)(t,e),t}(n.Component),F=a(114),N=a(115),A=a(117),B=a(137),I=a(133),J=a(134),L=a(129),U=a(121),$=a(136),q=a(124);function z(e){return e.replace(" ","-")}function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).closeDialog=function(){"function"===typeof a.props.closeDialog&&a.props.closeDialog()},a.deleteRoute=function(){"function"===typeof a.props.deleteRoute&&a.props.deleteRoute()},a.saveRoute=function(){if("function"===typeof a.props.saveRoute){var e={name:a.state.name,host:a.state.host,port:a.state.port,entrypoint:a.state.entrypoint};a.state.useHTTPS&&(e.certificateResolver=a.state.certificateResolver,e.autoRedirectHttpToHttps=a.state.autoRedirect,a.state.autoRedirect&&(e.httpEndpoint=a.state.httpEndpoint)),a.props.saveRoute(e,a.state.index)}},a.handleCheckedChange=function(e){return function(t){a.setState(Object(C.a)({},e,t.target.checked))}},a.handleChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){var r=n.target.value;"function"===typeof t&&(t=[t]),t.forEach((function(e){"function"===typeof e&&(r=e(r))})),a.setState(K({},a.state,Object(C.a)({},e,r)))}},a.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{id:"form-dialog-title"},"Edit Route"),r.a.createElement(N.a,null,r.a.createElement(m.a,{container:!0},r.a.createElement(A.a,null,"Each route will refer to one router connecting to a service on a specific port."),r.a.createElement(B.a,{autoFocus:!0,value:a.state.name,onChange:a.handleChange("name",z),margin:"dense",id:"name",label:"Route Name",type:"text",fullWidth:!0}),r.a.createElement(B.a,{autoFocus:!0,margin:"dense",value:a.state.host,onChange:a.handleChange("host",z),id:"host",label:"Host",type:"text",fullWidth:!0}),r.a.createElement(B.a,{autoFocus:!0,margin:"dense",value:a.state.port,onChange:a.handleChange("port"),id:"port",label:"Port on Service",type:"number",fullWidth:!0}),r.a.createElement(I.a,{fullWidth:!0},r.a.createElement(J.a,{htmlFor:"entrypoint-native"},"Entrypoint"),r.a.createElement(L.a,{fullWidth:!0,native:!0,value:a.state.entrypoint,onChange:a.handleChange("entrypoint"),inputProps:{name:"entrypoint",id:"entrypoint-native"}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"web"},"web"),r.a.createElement("option",{value:"websecure"},"webSecure"))),r.a.createElement(U.a,{fullWidth:!0,control:r.a.createElement($.a,{checked:a.state.useHTTPS,onChange:a.handleCheckedChange("useHTTPS"),value:"useHTTPS"}),label:"Use HTTPS ?"}),a.state.useHTTPS&&r.a.createElement("div",null,r.a.createElement(I.a,{fullWidth:!0},r.a.createElement(J.a,{htmlFor:"cert-resolver-native"},"Certificate Resolver"),r.a.createElement(L.a,{fullWidth:!0,native:!0,value:a.state.certificateResolver,onChange:a.handleChange("certificateResolver"),inputProps:{name:"certificateResolver",id:"cert-resolver-native"}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"awsRoute53"},"awsRoute53"))),r.a.createElement(U.a,{control:r.a.createElement($.a,{checked:a.state.autoRedirect,onChange:a.handleCheckedChange("autoRedirect"),value:"autoRedirect"}),label:"Auto redirect HTTP to HTTPS?"}),a.state.autoRedirect&&r.a.createElement(I.a,{fullWidth:!0},r.a.createElement(J.a,{htmlFor:"cert-resolver-native"},"HTTP Endpoint"),r.a.createElement(L.a,{native:!0,value:a.state.httpEndpoint,onChange:a.handleChange("httpEndpoint"),inputProps:{name:"httpEndpoint",id:"httpEndpoint"}},r.a.createElement("option",{value:""}),r.a.createElement("option",{value:"web"},"web"),r.a.createElement("option",{value:"websecure"},"webSecure")))),r.a.createElement(m.a,{item:!0,xs:12},r.a.createElement(d.a,{onClick:a.deleteRoute,variant:"outlined",color:"secondary"},"Delete Route")))),r.a.createElement(q.a,null,r.a.createElement(d.a,{color:"primary",onClick:a.closeDialog},"Cancel"),r.a.createElement(d.a,{color:"primary",onClick:a.saveRoute},"Save Route")))},console.log("Props form",e),a.state={name:a.props.route.name,host:a.props.route.host,port:a.props.route.port,entrypoint:a.props.route.entrypoint},a.props.route.certificateResolver&&(a.state.useHTTPS=!0,a.state.certificateResolver=a.props.route.certificateResolver,a.state.autoRedirect=a.props.route.autoRedirectHttpToHttps,a.props.route.autoRedirectHttpToHttps&&(a.state.httpEndpoint=a.props.route.httpEndpoint)),a.state.index=a.props.index,a}return Object(p.a)(t,e),t}(n.Component),Q=a(122),V=(a(84),a(60)),X=a.n(V),Y=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onClose=function(){"function"===typeof a.props.onClose&&a.props.onClose()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=[];e.push("traefik.enable=true"),this.props.routes.forEach((function(t){var a=t.name,n=t.host,r=t.certificateResolver,o=t.port,c=t.entrypoint,i=t.httpEntrypoint,l=t.autoRedirectHttpToHttps;e.push("traefik.http.routers.".concat(a,".entrypoints=").concat(c)),e.push("traefik.http.routers.".concat(a,".rule=Host(`").concat(n,"`)")),e.push("traefik.http.services.".concat(a,".loadbalancer.server.port=").concat(o)),r&&(e.push("traefik.http.routers.".concat(a,".tls.certresolver=").concat(r)),l&&(e.push("traefik.http.routers.".concat(a,".service=").concat(a)),e.push("traefik.http.routers.".concat(a,"-redirect.entrypoints=").concat(i)),e.push("traefik.http.routers.".concat(a,"-redirect.rule=Host(`").concat(n,"`)")),e.push("traefik.http.services.".concat(a,"-redirect.loadbalancer.server.port=").concat(o)),e.push("traefik.http.middlewares.".concat(a,".redirectscheme.permanent=true")),e.push("traefik.http.middlewares.".concat(a,".redirectscheme.scheme=https"))))}));var t=e.map((function(e){return'  - "'.concat(e,'"')})).join("\n");return r.a.createElement(N.a,null,r.a.createElement(m.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:2},r.a.createElement(m.a,{item:!0},r.a.createElement(f.a,{variant:"h5"},"Labels for Docker Compose")),r.a.createElement(m.a,{item:!0},r.a.createElement(Q.a,{onClick:this.onClose},r.a.createElement(X.a,null))),r.a.createElement(m.a,{item:!0,xs:12},r.a.createElement("code",null,t))))}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).addRoute=function(){var e=a.state.routes,t={name:"route-".concat(e.length)};e.push(t),a.setState({routes:e})},a.editRow=function(e){a.setState({currentRow:e})},a.saveRoute=function(e,t){var n=a.state.routes;n[t]=e,a.setState({routes:n,currentRow:-1})},a.closeDialog=function(){a.setState({currentRow:-1})},a.showOutputDialog=function(){a.setState({showOutput:!0})},a.closeOutputDialog=function(){a.setState({showOutput:!1})},a.deleteRoute=function(e){var t=a.state.routes;t.splice(e,1),a.setState({routes:t,currentRow:-1})},a.state={currentRow:-1,routes:[],showOutput:!1},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{className:"app"},r.a.createElement(m.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",spacing:4},r.a.createElement(m.a,{item:!0},r.a.createElement(f.a,{variant:"h4"},"Traefik Label Builder")),r.a.createElement(m.a,{item:!0},r.a.createElement(d.a,{onClick:this.showOutputDialog,variant:"contained",color:"secondary"},"Show Output")),r.a.createElement(v.a,{className:"table","aria-label":"simple table"},r.a.createElement(E.a,null,r.a.createElement(b.a,null,r.a.createElement(g.a,{component:"th"},"Name"),r.a.createElement(g.a,{component:"th"},"Host/path"),r.a.createElement(g.a,{component:"th"},"Service Port"),r.a.createElement(g.a,{component:"th"},"Service Security"))),r.a.createElement(y.a,null,this.state.routes.map((function(t,a){return r.a.createElement(W,{route:t,key:a,index:a,onRowClicked:e.editRow})})))),r.a.createElement(m.a,{item:!0,xs:12},r.a.createElement(d.a,{variant:"contained",color:"primary",onClick:this.addRoute,fullWidth:!0},r.a.createElement(O.a,null)," Add Route"))),r.a.createElement(R.a,{open:this.state.currentRow>-1,"aria-labelledby":"form-dialog-title"},this.state.currentRow>-1&&r.a.createElement(M,{route:this.state.routes[this.state.currentRow],index:this.state.currentRow,closeDialog:this.closeDialog,saveRoute:this.saveRoute,deleteRoute:this.deleteRoute})),r.a.createElement(R.a,{open:this.state.showOutput,"aria-labelledby":"form-dialog-title",fullScreen:!0},r.a.createElement(Y,{routes:this.state.routes,onClose:this.closeOutputDialog})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[72,1,2]]]);
//# sourceMappingURL=main.80fed71e.chunk.js.map